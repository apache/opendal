"use strict";(globalThis.webpackChunkopendal_website=globalThis.webpackChunkopendal_website||[]).push([[5515],{288(e,n,a){a.d(n,{R:()=>l,x:()=>r});var s=a(6363);const i={},t=s.createContext(i);function l(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(t.Provider,{value:n},e.children)}},4033(e,n,a){a.r(n),a.d(n,{assets:()=>h,contentTitle:()=>d,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>p});const s=JSON.parse('{"id":"bindings/ocaml","title":"OCaml \ud83d\udea7","description":"","source":"@site/docs/20-bindings/ocaml.mdx","sourceDirName":"20-bindings","slug":"/bindings/ocaml","permalink":"/bindings/ocaml","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/opendal/tree/main/website/docs/20-bindings/ocaml.mdx","tags":[],"version":"current","lastUpdatedBy":"yihong","lastUpdatedAt":1747794217000,"frontMatter":{"title":"OCaml \ud83d\udea7"},"sidebar":"docs","previous":{"title":"Node.js","permalink":"/bindings/nodejs"},"next":{"title":"PHP \ud83d\udea7","permalink":"/bindings/php"}}');var i=a(7259),t=a(288),l=a(9860);function r(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"apache-opendal-ocaml-binding-wip",children:"Apache OpenDAL\u2122 OCaml Binding (WIP)"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://opendal.apache.org/bindings/ocaml",children:(0,i.jsx)(n.img,{src:"/img/external/552ab0d9376d217ab2e8b0ade233afb8.svg",alt:""})})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note"}),": This binding has its own independent version number, which may differ from the Rust core version. When checking for updates or compatibility, always refer to this binding's version rather than the core version."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"OCaml version > 4.03 and < 5.0.0"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"contributing",children:"Contributing"}),"\n",(0,i.jsx)(n.h3,{id:"setup",children:"Setup"}),"\n",(0,i.jsxs)(n.p,{children:["We recommend using ",(0,i.jsx)(n.code,{children:"OPAM the OCaml Package Manager"})," to install and manage the OCaml environment."]}),"\n",(0,i.jsx)(n.h4,{id:"install-opam",children:"Install OPAM"}),"\n",(0,i.jsx)(n.p,{children:"The quickest way to get the latest opam up and working is to run this script:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'bash -c "sh <(curl -fsSL https://raw.githubusercontent.com/ocaml/opam/master/shell/install.sh)"\n'})}),"\n",(0,i.jsx)(n.p,{children:"Similarly, you can also use your distribution's package manager to install"}),"\n",(0,i.jsx)(n.h5,{id:"arch",children:"Arch"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pacman -S opam\n"})}),"\n",(0,i.jsx)(n.h5,{id:"debian--ubuntu",children:"Debian | Ubuntu"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"apt-get install opam\n"})}),"\n",(0,i.jsx)(n.h4,{id:"macos",children:"macOS"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"brew install opam\n"})}),"\n",(0,i.jsx)(n.h4,{id:"init-opam",children:"Init OPAM"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"Do not put sudo in front of any opam commands. That would break your OCaml installation."})}),"\n",(0,i.jsx)(n.p,{children:"After Installing OPAM, we need to initialize it"}),"\n",(0,i.jsx)(n.p,{children:"For the general case, we can execute"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"opam init --bare -a -y\n"})}),"\n",(0,i.jsx)(n.p,{children:"If you are using WSL1 on windows, run:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"opam init --bare -a -y --disable-sandboxing\n"})}),"\n",(0,i.jsx)(n.h4,{id:"create-opam-switch",children:"Create OPAM Switch"}),"\n",(0,i.jsx)(n.p,{children:"Using opam, we can have multiple versions of ocaml at the same time; this is called switch."}),"\n",(0,i.jsxs)(n.p,{children:["Due to the upstream ",(0,i.jsx)(n.code,{children:"ocaml-rs"}),", we currently do not support OCaml5, and recommend using the latest version of OCaml4\nWe can create use this command:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"opam switch create opendal-ocaml4.14 ocaml-base-compiler.4.14.0\n\neval $(opam env)\n"})}),"\n",(0,i.jsx)(n.h4,{id:"install-opam-package",children:"Install OPAM Package"}),"\n",(0,i.jsxs)(n.p,{children:["OpenDAL does not depend on opam package except ",(0,i.jsx)(n.code,{children:"ounit2"})," for testing.\nHowever, to facilitate development in an IDE such as vscode, it is usually necessary to install the following content"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"opam install -y utop odoc ounit2 ocaml-lsp-server ocamlformat ocamlformat-rpc\n"})}),"\n",(0,i.jsx)(n.h3,{id:"build",children:"Build"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd bindings/ocaml\ndune build\n"})}),"\n",(0,i.jsx)(n.h3,{id:"test",children:"Test"}),"\n",(0,i.jsx)(n.p,{children:"To execute unit tests, we can simply use the following command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd bindings/ocaml\ndune test\n"})}),"\n",(0,i.jsx)(n.h2,{id:"license-and-trademarks",children:"License and Trademarks"}),"\n",(0,i.jsxs)(n.p,{children:["Licensed under the Apache License, Version 2.0: ",(0,i.jsx)(n.a,{href:"http://www.apache.org/licenses/LICENSE-2.0",children:"http://www.apache.org/licenses/LICENSE-2.0"})]}),"\n",(0,i.jsx)(n.p,{children:"Apache OpenDAL, OpenDAL, and Apache are either registered trademarks or trademarks of the Apache Software Foundation."})]})}function c(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(r,{...e})}):r(e)}const o={title:"OCaml \ud83d\udea7"},d=void 0,h={},p=[{value:"Requirements",id:"requirements",level:2},{value:"Contributing",id:"contributing",level:2},{value:"Setup",id:"setup",level:3},{value:"Install OPAM",id:"install-opam",level:4},{value:"Arch",id:"arch",level:5},{value:"Debian | Ubuntu",id:"debian--ubuntu",level:5},{value:"macOS",id:"macos",level:4},{value:"Init OPAM",id:"init-opam",level:4},{value:"Create OPAM Switch",id:"create-opam-switch",level:4},{value:"Install OPAM Package",id:"install-opam-package",level:4},{value:"Build",id:"build",level:3},{value:"Test",id:"test",level:3},{value:"License and Trademarks",id:"license-and-trademarks",level:2}];function u(e){return(0,i.jsx)(l.A,{basePath:"bindings/ocaml/",children:(0,i.jsx)(c,{components:{h1:"h2"}})})}function m(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u()}},9860(e,n,a){a.d(n,{A:()=>t});var s=a(6363),i=a(7259);function t({children:e,owner:n="apache",repo:a="opendal",branch:t="main",basePath:l="",components:r={}}){const c=e=>{const s=e.replace(/^\.\//,"");return`https://github.com/${n}/${a}/blob/${t}/${l}${s}`},o={...r,a:e=>{const{href:n,...a}=e;return n&&n.startsWith("./")?(0,i.jsx)("a",{...a,href:c(n)}):(0,i.jsx)("a",{...e})},p:e=>{const{children:n}=e;if("string"==typeof n){const e=/\[(.*?)\]:\s*(\.\/[^\s]+)/g;if(e.test(n)){const a=n.replace(e,(e,n,a)=>`[${n}]: ${c(a)}`);return(0,i.jsx)("p",{children:a})}}return(0,i.jsx)("p",{...e})}};return"string"==typeof e?(e=>{if("string"!=typeof e)return e;let n=e.replace(/\[(.*?)\]\((\.\/[^)]+)\)/g,(e,n,a)=>`[${n}](${c(a)})`);return n=n.replace(/\[(.*?)\]:\s*(\.\/[^\s]+)/g,(e,n,a)=>`[${n}]: ${c(a)}`),n})(e):s.isValidElement(e)?s.cloneElement(e,{components:{...e.props.components||{},...o}}):e}}}]);