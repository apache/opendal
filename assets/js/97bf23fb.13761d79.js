"use strict";(self.webpackChunkopendal_website=self.webpackChunkopendal_website||[]).push([[2542],{383:(e,n,t)=>{t.d(n,{A:()=>a});var s=t(6672),o=t(3420);function a({children:e,owner:n="apache",repo:t="opendal",branch:a="main",basePath:i="",components:p={}}){const c=e=>{const s=e.replace(/^\.\//,"");return`https://github.com/${n}/${t}/blob/${a}/${i}${s}`},r={...p,a:e=>{const{href:n,...t}=e;return n&&n.startsWith("./")?(0,o.jsx)("a",{...t,href:c(n)}):(0,o.jsx)("a",{...e})},p:e=>{const{children:n}=e;if("string"==typeof n){const e=/\[(.*?)\]:\s*(\.\/[^\s]+)/g;if(e.test(n)){const t=n.replace(e,(e,n,t)=>`[${n}]: ${c(t)}`);return(0,o.jsx)("p",{children:t})}}return(0,o.jsx)("p",{...e})}};return"string"==typeof e?(e=>{if("string"!=typeof e)return e;let n=e.replace(/\[(.*?)\]\((\.\/[^)]+)\)/g,(e,n,t)=>`[${n}](${c(t)})`);return n=n.replace(/\[(.*?)\]:\s*(\.\/[^\s]+)/g,(e,n,t)=>`[${n}]: ${c(t)}`),n})(e):s.isValidElement(e)?s.cloneElement(e,{components:{...e.props.components||{},...r}}):e}},7251:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>p});var s=t(6672);const o={},a=s.createContext(o);function i(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function p(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(a.Provider,{value:n},e.children)}},8263:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>m,frontMatter:()=>r,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"bindings/go","title":"Go","description":"","source":"@site/docs/20-bindings/go.mdx","sourceDirName":"20-bindings","slug":"/bindings/go","permalink":"/bindings/go","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/opendal/tree/main/website/docs/20-bindings/go.mdx","tags":[],"version":"current","lastUpdatedBy":"Xuanwo","lastUpdatedAt":1741601725000,"frontMatter":{"title":"Go"},"sidebar":"docs","previous":{"title":"Dotnet \ud83d\udea7","permalink":"/bindings/dotnet"},"next":{"title":"Haskell \ud83d\udea7","permalink":"/bindings/haskell"}}');var o=t(3420),a=t(7251),i=t(383);function p(e){const n={a:"a",br:"br",code:"code",details:"details",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",input:"input",li:"li",p:"p",pre:"pre",strong:"strong",summary:"summary",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"apache-opendal-go-binding",children:"Apache OpenDAL\u2122 Go Binding"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.a,{href:"https://pkg.go.dev/github.com/apache/opendal/bindings/go",children:(0,o.jsx)(n.img,{src:"/img/external/6fc9234a805e6983d9cc27a62c8568aa.svg",alt:""})}),"\n",(0,o.jsx)(n.a,{href:"https://pkg.go.dev/github.com/apache/opendal/bindings/go",children:(0,o.jsx)(n.img,{src:"/img/external/4079df26a2c75f9863cb3d997d7d1f3d.svg",alt:"Go Reference"})})]}),"\n",(0,o.jsxs)(n.p,{children:["opendal-go is a ",(0,o.jsx)(n.strong,{children:"Native"})," support Go binding without CGO enabled and is built on top of opendal-c."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"go get github.com/apache/opendal/bindings/go@latest\n"})}),"\n",(0,o.jsxs)(n.p,{children:["opendal-go requires ",(0,o.jsx)(n.strong,{children:"libffi"})," to be installed."]}),"\n",(0,o.jsx)(n.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n\t"fmt"\n\t"github.com/apache/opendal-go-services/memory"\n\topendal "github.com/apache/opendal/bindings/go"\n)\n\nfunc main() {\n\t// Initialize a new in-memory operator\n\top, err := opendal.NewOperator(memory.Scheme, opendal.OperatorOptions{})\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tdefer op.Close()\n\n\t// Write data to a file named "test"\n\terr = op.Write("test", []byte("Hello opendal go binding!"))\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\n\t// Read data from the file "test"\n\tdata, err := op.Read("test")\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tfmt.Printf("Read content: %s\\n", data)\n\n\t// List all entries under the root directory "/"\n\tlister, err := op.List("/")\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tdefer lister.Close()\n\n\t// Iterate through all entries\n\tfor lister.Next() {\n\t\tentry := lister.Entry()\n\n\t\t// Get entry name (not used in this example)\n\t\t_ = entry.Name()\n\n\t\t// Get metadata for the current entry\n\t\tmeta, _ := op.Stat(entry.Path())\n\n\t\t// Print file size\n\t\tfmt.Printf("Size: %d bytes\\n", meta.ContentLength())\n\n\t\t// Print last modified time\n\t\tfmt.Printf("Last modified: %s\\n", meta.LastModified())\n\n\t\t// Check if the entry is a directory or a file\n\t\tfmt.Printf("Is directory: %v, Is file: %v\\n", meta.IsDir(), meta.IsFile())\n\t}\n\n\t// Check for any errors that occurred during iteration\n\tif err := lister.Error(); err != nil {\n\t\tpanic(err)\n\t}\n\n\t// Copy a file\n\top.Copy("test", "test_copy")\n\n\t// Rename a file\n\top.Rename("test", "test_rename")\n\n\t// Delete a file\n\top.Delete("test_rename")\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"run-tests",children:"Run Tests"}),"\n",(0,o.jsx)(n.h3,{id:"behavior-tests",children:"Behavior Tests"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cd tests/behavior_tests\n# Test a specific backend\nexport OPENDAL_TEST=memory\n# Run all tests\nCGO_ENABLE=0 go test -v -run TestBehavior\n# Run specific test\nCGO_ENABLE=0 go test -v -run TestBehavior/Write\n# Run synchronously\nCGO_ENABLE=0 GOMAXPROCS=1 go test -v -run TestBehavior\n"})}),"\n",(0,o.jsx)(n.h3,{id:"benchmark",children:"Benchmark"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cd tests/behavior_tests\n# Benchmark a specific backend\nexport OPENDAL_TEST=memory\n\ngo test -bench .\n"})}),"\n",(0,o.jsxs)(n.details,{children:["\n  ",(0,o.jsx)(n.summary,{children:"\n  A benchmark between OpenDAL Go binding and aws-sdk-go on minio S3 compatible storage\n  "}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"goos: linux\ngoarch: amd64\npkg: opendal_test\ncpu: AMD EPYC 7763 64-Core Processor                \nBenchmarkWrite\nBenchmarkWrite/4KiB/OpenDAL\nBenchmarkWrite/4KiB/OpenDAL-4         \t     405\t   3430652 ns/op\t     384 B/op\t      10 allocs/op\nBenchmarkWrite/4KiB/OpenDAL-4         \t     313\t   3781825 ns/op\t     384 B/op\t      10 allocs/op\nBenchmarkWrite/4KiB/OpenDAL-4         \t     346\t   3354802 ns/op\t     384 B/op\t      10 allocs/op\nBenchmarkWrite/4KiB/OpenDAL-4         \t     397\t   3374467 ns/op\t     384 B/op\t      10 allocs/op\nBenchmarkWrite/4KiB/OpenDAL-4         \t     364\t   6171386 ns/op\t     384 B/op\t      10 allocs/op\nBenchmarkWrite/4KiB/OpenDAL-4         \t     388\t   3789795 ns/op\t     384 B/op\t      10 allocs/op\nBenchmarkWrite/4KiB/AWS_S3\nBenchmarkWrite/4KiB/AWS_S3-4          \t     384\t   3716060 ns/op\t   62929 B/op\t     312 allocs/op\nBenchmarkWrite/4KiB/AWS_S3-4          \t     402\t   3145797 ns/op\t   62077 B/op\t     312 allocs/op\nBenchmarkWrite/4KiB/AWS_S3-4          \t     372\t   3050911 ns/op\t   61902 B/op\t     312 allocs/op\nBenchmarkWrite/4KiB/AWS_S3-4          \t     400\t   3081028 ns/op\t   61556 B/op\t     312 allocs/op\nBenchmarkWrite/4KiB/AWS_S3-4          \t     342\t   3111741 ns/op\t   61970 B/op\t     312 allocs/op\nBenchmarkWrite/4KiB/AWS_S3-4          \t     464\t   2933844 ns/op\t   61617 B/op\t     312 allocs/op\nBenchmarkWrite/256KiB/OpenDAL\nBenchmarkWrite/256KiB/OpenDAL-4       \t     228\t   6253966 ns/op\t     384 B/op\t      10 allocs/op\nBenchmarkWrite/256KiB/OpenDAL-4       \t     190\t   5859882 ns/op\t     384 B/op\t      10 allocs/op\nBenchmarkWrite/256KiB/OpenDAL-4       \t     216\t   6008253 ns/op\t     384 B/op\t      10 allocs/op\nBenchmarkWrite/256KiB/OpenDAL-4       \t     200\t   5958440 ns/op\t     384 B/op\t      10 allocs/op\nBenchmarkWrite/256KiB/OpenDAL-4       \t     193\t   5658798 ns/op\t     384 B/op\t      10 allocs/op\nBenchmarkWrite/256KiB/OpenDAL-4       \t     210\t   6250594 ns/op\t     384 B/op\t      10 allocs/op\nBenchmarkWrite/256KiB/AWS_S3\nBenchmarkWrite/256KiB/AWS_S3-4        \t     208\t   5665223 ns/op\t   90323 B/op\t     312 allocs/op\nBenchmarkWrite/256KiB/AWS_S3-4        \t     196\t   5368602 ns/op\t   88719 B/op\t     312 allocs/op\nBenchmarkWrite/256KiB/AWS_S3-4        \t     218\t   6108315 ns/op\t   90784 B/op\t     312 allocs/op\nBenchmarkWrite/256KiB/AWS_S3-4        \t     217\t   5828966 ns/op\t   90379 B/op\t     312 allocs/op\nBenchmarkWrite/256KiB/AWS_S3-4        \t     210\t   6447429 ns/op\t   90981 B/op\t     312 allocs/op\nBenchmarkWrite/256KiB/AWS_S3-4        \t     177\t   6323915 ns/op\t   91548 B/op\t     313 allocs/op\nBenchmarkWrite/4MiB/OpenDAL\nBenchmarkWrite/4MiB/OpenDAL-4         \t      62\t  19049500 ns/op\t     384 B/op\t      10 allocs/op\nBenchmarkWrite/4MiB/OpenDAL-4         \t      54\t  19271521 ns/op\t     384 B/op\t      10 allocs/op\nBenchmarkWrite/4MiB/OpenDAL-4         \t      69\t  17849900 ns/op\t     384 B/op\t      10 allocs/op\nBenchmarkWrite/4MiB/OpenDAL-4         \t      73\t  18117693 ns/op\t     384 B/op\t      10 allocs/op\nBenchmarkWrite/4MiB/OpenDAL-4         \t      74\t  18249816 ns/op\t     384 B/op\t      10 allocs/op\nBenchmarkWrite/4MiB/OpenDAL-4         \t      62\t  19556730 ns/op\t     384 B/op\t      10 allocs/op\nBenchmarkWrite/4MiB/AWS_S3\nBenchmarkWrite/4MiB/AWS_S3-4          \t      43\t  29514084 ns/op\t   92211 B/op\t     320 allocs/op\nBenchmarkWrite/4MiB/AWS_S3-4          \t      39\t  29297735 ns/op\t   92514 B/op\t     320 allocs/op\nBenchmarkWrite/4MiB/AWS_S3-4          \t      42\t  28956593 ns/op\t   92282 B/op\t     320 allocs/op\nBenchmarkWrite/4MiB/AWS_S3-4          \t      42\t  29218821 ns/op\t   92282 B/op\t     320 allocs/op\nBenchmarkWrite/4MiB/AWS_S3-4          \t      40\t  28988214 ns/op\t   91391 B/op\t     320 allocs/op\nBenchmarkWrite/4MiB/AWS_S3-4          \t      43\t  28668319 ns/op\t   91242 B/op\t     320 allocs/op\nBenchmarkWrite/16MiB/OpenDAL\nBenchmarkWrite/16MiB/OpenDAL-4        \t      21\t  53528117 ns/op\t     384 B/op\t      10 allocs/op\nBenchmarkWrite/16MiB/OpenDAL-4        \t      21\t  55328986 ns/op\t     384 B/op\t      10 allocs/op\nBenchmarkWrite/16MiB/OpenDAL-4        \t      21\t  54221620 ns/op\t     384 B/op\t      10 allocs/op\nBenchmarkWrite/16MiB/OpenDAL-4        \t      20\t  54044030 ns/op\t     384 B/op\t      10 allocs/op\nBenchmarkWrite/16MiB/OpenDAL-4        \t      21\t  53692610 ns/op\t     384 B/op\t      10 allocs/op\nBenchmarkWrite/16MiB/OpenDAL-4        \t      21\t  53288370 ns/op\t     384 B/op\t      10 allocs/op\nBenchmarkWrite/16MiB/AWS_S3\nBenchmarkWrite/16MiB/AWS_S3-4         \t      12\t  99294840 ns/op\t   99850 B/op\t     322 allocs/op\nBenchmarkWrite/16MiB/AWS_S3-4         \t      12\t  97405067 ns/op\t   99850 B/op\t     322 allocs/op\nBenchmarkWrite/16MiB/AWS_S3-4         \t      12\t  97906212 ns/op\t   99848 B/op\t     322 allocs/op\nBenchmarkWrite/16MiB/AWS_S3-4         \t      12\t  98766864 ns/op\t   96378 B/op\t     322 allocs/op\nBenchmarkWrite/16MiB/AWS_S3-4         \t      12\t  97967605 ns/op\t   99850 B/op\t     322 allocs/op\nBenchmarkWrite/16MiB/AWS_S3-4         \t      12\t  97842268 ns/op\t   96376 B/op\t     322 allocs/op\nBenchmarkRead\nBenchmarkRead/4KiB/OpenDAL\nBenchmarkRead/4KiB/OpenDAL-4          \t     972\t   1217197 ns/op\t    4760 B/op\t      15 allocs/op\nBenchmarkRead/4KiB/OpenDAL-4          \t     985\t   1226752 ns/op\t    4760 B/op\t      15 allocs/op\nBenchmarkRead/4KiB/OpenDAL-4          \t     982\t   1216827 ns/op\t    4760 B/op\t      15 allocs/op\nBenchmarkRead/4KiB/OpenDAL-4          \t     987\t   1227682 ns/op\t    4760 B/op\t      15 allocs/op\nBenchmarkRead/4KiB/OpenDAL-4          \t     987\t   1214420 ns/op\t    4760 B/op\t      15 allocs/op\nBenchmarkRead/4KiB/OpenDAL-4          \t     987\t   1215074 ns/op\t    4760 B/op\t      15 allocs/op\nBenchmarkRead/4KiB/AWS_S3\nBenchmarkRead/4KiB/AWS_S3-4           \t    1594\t    759864 ns/op\t   34988 B/op\t     344 allocs/op\nBenchmarkRead/4KiB/AWS_S3-4           \t    1605\t    751628 ns/op\t   34990 B/op\t     344 allocs/op\nBenchmarkRead/4KiB/AWS_S3-4           \t    1620\t    744649 ns/op\t   34991 B/op\t     344 allocs/op\nBenchmarkRead/4KiB/AWS_S3-4           \t    1623\t    752885 ns/op\t   34994 B/op\t     344 allocs/op\nBenchmarkRead/4KiB/AWS_S3-4           \t    1629\t    742307 ns/op\t   34991 B/op\t     344 allocs/op\nBenchmarkRead/4KiB/AWS_S3-4           \t    1622\t    750455 ns/op\t   34992 B/op\t     344 allocs/op\nBenchmarkRead/256KiB/OpenDAL\nBenchmarkRead/256KiB/OpenDAL-4        \t     741\t   1612259 ns/op\t  262812 B/op\t      15 allocs/op\nBenchmarkRead/256KiB/OpenDAL-4        \t     727\t   1633753 ns/op\t  262812 B/op\t      15 allocs/op\nBenchmarkRead/256KiB/OpenDAL-4        \t     751\t   1619770 ns/op\t  262812 B/op\t      15 allocs/op\nBenchmarkRead/256KiB/OpenDAL-4        \t     756\t   1619435 ns/op\t  262812 B/op\t      15 allocs/op\nBenchmarkRead/256KiB/OpenDAL-4        \t     750\t   1629211 ns/op\t  262812 B/op\t      15 allocs/op\nBenchmarkRead/256KiB/OpenDAL-4        \t     757\t   1611646 ns/op\t  262812 B/op\t      15 allocs/op\nBenchmarkRead/256KiB/AWS_S3\nBenchmarkRead/256KiB/AWS_S3-4         \t     736\t   1655133 ns/op\t 1209847 B/op\t     365 allocs/op\nBenchmarkRead/256KiB/AWS_S3-4         \t     735\t   1673714 ns/op\t 1209874 B/op\t     365 allocs/op\nBenchmarkRead/256KiB/AWS_S3-4         \t     735\t   1653903 ns/op\t 1209852 B/op\t     365 allocs/op\nBenchmarkRead/256KiB/AWS_S3-4         \t     728\t   1643222 ns/op\t 1209855 B/op\t     365 allocs/op\nBenchmarkRead/256KiB/AWS_S3-4         \t     726\t   1674202 ns/op\t 1209842 B/op\t     365 allocs/op\nBenchmarkRead/256KiB/AWS_S3-4         \t     717\t   1656092 ns/op\t 1209876 B/op\t     365 allocs/op\nBenchmarkRead/4MiB/OpenDAL\nBenchmarkRead/4MiB/OpenDAL-4          \t     250\t   4933426 ns/op\t 4194991 B/op\t      15 allocs/op\nBenchmarkRead/4MiB/OpenDAL-4          \t     255\t   4874283 ns/op\t 4194991 B/op\t      15 allocs/op\nBenchmarkRead/4MiB/OpenDAL-4          \t     252\t   4769956 ns/op\t 4194992 B/op\t      16 allocs/op\nBenchmarkRead/4MiB/OpenDAL-4          \t     244\t   4800674 ns/op\t 4194992 B/op\t      16 allocs/op\nBenchmarkRead/4MiB/OpenDAL-4          \t     242\t   4826974 ns/op\t 4194992 B/op\t      15 allocs/op\nBenchmarkRead/4MiB/OpenDAL-4          \t     254\t   4882666 ns/op\t 4194996 B/op\t      16 allocs/op\nBenchmarkRead/4MiB/AWS_S3\nBenchmarkRead/4MiB/AWS_S3-4           \t     122\t  10379507 ns/op\t21133764 B/op\t     388 allocs/op\nBenchmarkRead/4MiB/AWS_S3-4           \t     100\t  10838399 ns/op\t21133778 B/op\t     389 allocs/op\nBenchmarkRead/4MiB/AWS_S3-4           \t      92\t  11831700 ns/op\t21133738 B/op\t     388 allocs/op\nBenchmarkRead/4MiB/AWS_S3-4           \t     100\t  10002235 ns/op\t21133764 B/op\t     388 allocs/op\nBenchmarkRead/4MiB/AWS_S3-4           \t     100\t  10416467 ns/op\t21133731 B/op\t     388 allocs/op\nBenchmarkRead/4MiB/AWS_S3-4           \t     100\t  10452328 ns/op\t21133719 B/op\t     388 allocs/op\nBenchmarkRead/16MiB/OpenDAL\nBenchmarkRead/16MiB/OpenDAL-4         \t      81\t  14654347 ns/op\t16777903 B/op\t      15 allocs/op\nBenchmarkRead/16MiB/OpenDAL-4         \t      78\t  14977822 ns/op\t16777908 B/op\t      16 allocs/op\nBenchmarkRead/16MiB/OpenDAL-4         \t      81\t  14833921 ns/op\t16777906 B/op\t      16 allocs/op\nBenchmarkRead/16MiB/OpenDAL-4         \t      76\t  14663855 ns/op\t16777906 B/op\t      16 allocs/op\nBenchmarkRead/16MiB/OpenDAL-4         \t      75\t  14545209 ns/op\t16777906 B/op\t      16 allocs/op\nBenchmarkRead/16MiB/OpenDAL-4         \t      80\t  14585250 ns/op\t16777905 B/op\t      16 allocs/op\nBenchmarkRead/16MiB/AWS_S3\nBenchmarkRead/16MiB/AWS_S3-4          \t      52\t  24826707 ns/op\t102660545 B/op\t     398 allocs/op\nBenchmarkRead/16MiB/AWS_S3-4          \t      46\t  24588321 ns/op\t102660529 B/op\t     397 allocs/op\nBenchmarkRead/16MiB/AWS_S3-4          \t      44\t  26526367 ns/op\t102660527 B/op\t     397 allocs/op\nBenchmarkRead/16MiB/AWS_S3-4          \t      44\t  26996660 ns/op\t102660522 B/op\t     397 allocs/op\nBenchmarkRead/16MiB/AWS_S3-4          \t      42\t  26319939 ns/op\t102660552 B/op\t     398 allocs/op\nBenchmarkRead/16MiB/AWS_S3-4          \t      45\t  25286454 ns/op\t102660542 B/op\t     398 allocs/op\nPASS\nok  \topendal_test\t147.053s\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Diff"})," with ",(0,o.jsx)(n.a,{href:"https://pkg.go.dev/golang.org/x/perf/cmd/benchstat",children:"benchstat"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"benchstat aws.txt opendal.txt\ngoos: linux\ngoarch: amd64\npkg: opendal_test\ncpu: AMD EPYC 7763 64-Core Processor                \n             \u2502    aws.txt    \u2502             opendal.txt              \u2502\n             \u2502    sec/op     \u2502    sec/op      vs base               \u2502\nWrite/4KiB      3.096m \xb1 20%    3.606m \xb1 71%  +16.47% (p=0.015 n=6)\nWrite/256KiB    5.969m \xb1 10%    5.983m \xb1  5%        ~ (p=1.000 n=6)\nWrite/4MiB      29.10m \xb1  1%    18.65m \xb1  5%  -35.92% (p=0.002 n=6)\nWrite/16MiB     97.94m \xb1  1%    53.87m \xb1  3%  -45.00% (p=0.002 n=6)\nRead/4KiB       751.0\xb5 \xb1  1%   1217.0\xb5 \xb1  1%  +62.04% (p=0.002 n=6)\nRead/256KiB     1.656m \xb1  1%    1.620m \xb1  1%   -2.18% (p=0.002 n=6)\nRead/4MiB      10.434m \xb1 13%    4.851m \xb1  2%  -53.51% (p=0.002 n=6)\nRead/16MiB      25.80m \xb1  5%    14.66m \xb1  2%  -43.19% (p=0.002 n=6)\ngeomean         8.050m          6.461m        -19.73%\n\n             \u2502    aws.txt    \u2502             opendal.txt             \u2502\n             \u2502     B/op      \u2502     B/op      vs base               \u2502\nWrite/4KiB      61936.0 \xb1 2%     384.0 \xb1 0%  -99.38% (p=0.002 n=6)\nWrite/256KiB    90581.5 \xb1 2%     384.0 \xb1 0%  -99.58% (p=0.002 n=6)\nWrite/4MiB      92246.5 \xb1 1%     384.0 \xb1 0%  -99.58% (p=0.002 n=6)\nWrite/16MiB     99849.0 \xb1 3%     384.0 \xb1 0%  -99.62% (p=0.002 n=6)\nRead/4KiB      34.171Ki \xb1 0%   4.648Ki \xb1 0%  -86.40% (p=0.002 n=6)\nRead/256KiB    1181.5Ki \xb1 0%   256.7Ki \xb1 0%  -78.28% (p=0.002 n=6)\nRead/4MiB      20.155Mi \xb1 0%   4.001Mi \xb1 0%  -80.15% (p=0.002 n=6)\nRead/16MiB      97.90Mi \xb1 0%   16.00Mi \xb1 0%  -83.66% (p=0.002 n=6)\ngeomean         500.3Ki        14.12Ki       -97.18%\n\n             \u2502   aws.txt   \u2502            opendal.txt            \u2502\n             \u2502  allocs/op  \u2502 allocs/op   vs base               \u2502\nWrite/4KiB     312.00 \xb1 0%   10.00 \xb1 0%  -96.79% (p=0.002 n=6)\nWrite/256KiB   312.00 \xb1 0%   10.00 \xb1 0%  -96.79% (p=0.002 n=6)\nWrite/4MiB     320.00 \xb1 0%   10.00 \xb1 0%  -96.88% (p=0.002 n=6)\nWrite/16MiB    322.00 \xb1 0%   10.00 \xb1 0%  -96.89% (p=0.002 n=6)\nRead/4KiB      344.00 \xb1 0%   15.00 \xb1 0%  -95.64% (p=0.002 n=6)\nRead/256KiB    365.00 \xb1 0%   15.00 \xb1 0%  -95.89% (p=0.002 n=6)\nRead/4MiB      388.00 \xb1 0%   15.50 \xb1 3%  -96.01% (p=0.002 n=6)\nRead/16MiB     397.50 \xb1 0%   16.00 \xb1 6%  -95.97% (p=0.002 n=6)\ngeomean         343.6        12.40       -96.39%\n"})}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"capabilities",children:"Capabilities"}),"\n",(0,o.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," OperatorInfo"]}),"\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," Stat\n",(0,o.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," Metadata"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," IsExist"]}),"\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," Read\n",(0,o.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," Read"]}),"\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," Reader -- implement as ",(0,o.jsx)(n.code,{children:"io.ReadSeekCloser"})]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," Write\n",(0,o.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," Write"]}),"\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," Writer -- implement as ",(0,o.jsx)(n.code,{children:"io.WriteCloser"})]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," Delete"]}),"\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," CreateDir"]}),"\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",disabled:!0})," Lister\n",(0,o.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," Entry"]}),"\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",disabled:!0})," Metadata -- Need support from the C binding"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," Copy"]}),"\n",(0,o.jsxs)(n.li,{className:"task-list-item",children:[(0,o.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," Rename"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"development",children:"Development"}),"\n",(0,o.jsx)(n.p,{children:"The guide is based on Linux and Windows. For other platforms, please adjust the commands accordingly."}),"\n",(0,o.jsx)(n.p,{children:"To develop the Go binding, you need to have the following dependencies installed:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"zstd"}),"\n",(0,o.jsx)(n.li,{children:"Rust toolchain"}),"\n",(0,o.jsx)(n.li,{children:"Go"}),"\n",(0,o.jsx)(n.li,{children:"(Required for Windows) libffi-8.dll in the root of the workspace directory"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["We use ",(0,o.jsx)(n.code,{children:"go workspace"})," to manage and build the dependencies. To set up the workspace, run the following commands:"]}),"\n",(0,o.jsxs)(n.details,{children:["\n  ",(0,o.jsx)(n.summary,{children:"\n  For Linux, macOS and Windows (MSVC)\n  "}),"\n",(0,o.jsx)(n.br,{}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"mkdir opendal_workspace\ncd opendal_workspace\ngit clone --depth 1 git@github.com:apache/opendal.git\ngit clone --depth 1 git@github.com:apache/opendal-go-services.git\n\ngo work init\ngo work use ./opendal/bindings/go\ngo work use ./opendal/bindings/go/tests/behavior_tests\n\ncp opendal/bindings/go/Makefile .\n\ncd -\n"})}),"\n",(0,o.jsx)(n.p,{children:"To build and run tests, run the following commands:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cd opendal_workspace\n\n# specify the backend to test\nexport OPENDAL_TEST=fs\nexport OPENDAL_FS_ROOT=/tmp/opendal\n\nmake tests\n\ncd -\n"})}),"\n",(0,o.jsx)(n.p,{children:"To run the benchmarks, you can use the following command:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"make bench\n"})}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"license-and-trademarks",children:"License and Trademarks"}),"\n",(0,o.jsxs)(n.p,{children:["Licensed under the Apache License, Version 2.0: ",(0,o.jsx)(n.a,{href:"http://www.apache.org/licenses/LICENSE-2.0",children:"http://www.apache.org/licenses/LICENSE-2.0"})]}),"\n",(0,o.jsx)(n.p,{children:"Apache OpenDAL, OpenDAL, and Apache are either registered trademarks or trademarks of the Apache Software Foundation."})]})}function c(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}const r={title:"Go"},l=void 0,d={},h=[{value:"Basic Usage",id:"basic-usage",level:2},{value:"Run Tests",id:"run-tests",level:2},{value:"Behavior Tests",id:"behavior-tests",level:3},{value:"Benchmark",id:"benchmark",level:3},{value:"Capabilities",id:"capabilities",level:2},{value:"Development",id:"development",level:2},{value:"License and Trademarks",id:"license-and-trademarks",level:2}];function B(e){return(0,o.jsx)(i.A,{basePath:"bindings/go/",children:(0,o.jsx)(c,{components:{h1:"h2"}})})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(B,{...e})}):B()}}}]);