"use strict";(globalThis.webpackChunkopendal_website=globalThis.webpackChunkopendal_website||[]).push([[9479],{288(e,n,s){s.d(n,{R:()=>l,x:()=>c});var i=s(6363);const t={},r=i.createContext(t);function l(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(r.Provider,{value:n},e.children)}},3765(e,n,s){s.r(n),s.d(n,{assets:()=>p,contentTitle:()=>a,default:()=>x,frontMatter:()=>o,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"bindings/cpp","title":"Cpp \ud83d\udea7","description":"","source":"@site/docs/20-bindings/cpp.mdx","sourceDirName":"20-bindings","slug":"/bindings/cpp","permalink":"/bindings/cpp","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/opendal/tree/main/website/docs/20-bindings/cpp.mdx","tags":[],"version":"current","lastUpdatedBy":"Friends A.","lastUpdatedAt":1741941961000,"frontMatter":{"title":"Cpp \ud83d\udea7"},"sidebar":"docs","previous":{"title":"C \ud83d\udea7","permalink":"/bindings/c"},"next":{"title":"D \ud83d\udea7","permalink":"/bindings/d"}}');var t=s(7259),r=s(288),l=s(9860);function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"apache-opendal-cpp-binding-wip",children:"Apache OpenDAL\u2122 CPP Binding (WIP)"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://opendal.apache.org/bindings/cpp/",children:(0,t.jsx)(n.img,{src:"/img/external/552ab0d9376d217ab2e8b0ade233afb8.svg",alt:""})})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note"}),": This C++ binding follows the ",(0,t.jsx)(n.a,{href:"https://google.github.io/styleguide/cppguide.html",children:"Google C++ Style Guide"})," for consistent and maintainable code."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/apache/opendal/assets/5351546/87bbf6e5-f19e-449a-b368-3e283016c887",alt:""})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note"}),": This binding has its own independent version number, which may differ from the Rust core version. When checking for updates or compatibility, always refer to this binding's version rather than the core version."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Documents: ",(0,t.jsx)(n.a,{href:"https://opendal.apache.org/docs/cpp/",children:(0,t.jsx)(n.img,{src:"/img/external/2df9af50d923c7e6cd0c9521c3d4e194.svg",alt:"Documents"})})]}),"\n",(0,t.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:'#include "opendal.hpp"\n#include <vector>\n\nint main() {\n    auto op = opendal::Operator("memory");\n    std::vector<uint8_t> data = {1, 2, 3, 4, 5};\n    op.Write("test", data);\n    auto result = op.Read("test");  // result == data\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["More examples can be found ",(0,t.jsx)(n.a,{href:"../../examples/cpp",children:"here"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"using",children:"Using"}),"\n",(0,t.jsx)(n.h3,{id:"cmake",children:"CMake"}),"\n",(0,t.jsxs)(n.p,{children:["You can use ",(0,t.jsx)(n.code,{children:"FetchContent"})," to add OpenDAL to your project."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmake",children:"FetchContent_Declare(\n  opendal-cpp\n  GIT_REPOSITORY https://github.com/apache/opendal.git\n  GIT_TAG        v0.40.0\n  SOURCE_SUBDIR  bindings/cpp\n)\nFetchContent_MakeAvailable(opendal-cpp)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Or you can download the source code and add it to your project."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"mkdir third_party\ncd third_party\ngit clone https://github.com/apache/opendal.git\ngit checkout v0.40.0\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmake",children:"add_subdirectory(third_party/opendal/bindings/cpp)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Now you can use OpenDAL in your project."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmake",children:"target_link_libraries(your_target opendal_cpp)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"others",children:"Others"}),"\n",(0,t.jsx)(n.p,{children:"Support for more package managers is coming soon!"}),"\n",(0,t.jsx)(n.h2,{id:"compiling",children:"Compiling"}),"\n",(0,t.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"CMake >= 3.22"}),"\n",(0,t.jsx)(n.li,{children:"C++ compiler with C++17 support"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Currently only Clang or AppleClang are supported"})}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"build",children:"Build"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mkdir build\ncd build\n# Add -DOPENDAL_DEV=ON to make development environment for OpenDAL\ncmake -DCMAKE_C_COMPILER=clang -DCMAKE_CXX_COMPILER=clang++ ..\nmake\n"})}),"\n",(0,t.jsx)(n.h3,{id:"dev-setup",children:"Dev Setup"}),"\n",(0,t.jsxs)(n.p,{children:["We provide a default VSCode configuration in ",(0,t.jsx)(n.code,{children:".vscode/settings.json"})," at the project root. After installing the clangd extension in VSCode, restart the editor to enable proper code completion and IntelliSense support."]}),"\n",(0,t.jsx)(n.h3,{id:"test",children:"Test"}),"\n",(0,t.jsxs)(n.p,{children:["You should build the project with ",(0,t.jsx)(n.code,{children:"OPENDAL_ENABLE_TESTING"})," option. Then run:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"make test\n"})}),"\n",(0,t.jsx)(n.h3,{id:"docs",children:"Docs"}),"\n",(0,t.jsxs)(n.p,{children:["You should build the project with ",(0,t.jsx)(n.code,{children:"OPENDAL_ENABLE_DOCUMENTATION"})," option. Then run:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"make docs\n"})}),"\n",(0,t.jsx)(n.h3,{id:"cmake-options",children:"CMake Options"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"OPENDAL_DEV"}),": Enable development environment for OpenDAL. It will enable most development options. With this option, you don't need to set other options. Default: ",(0,t.jsx)(n.code,{children:"OFF"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"OPENDAL_ENABLE_ADDRESS_SANITIZER"}),": Enable address sanitizer. Default: ",(0,t.jsx)(n.code,{children:"OFF"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"OPENDAL_ENABLE_DOCUMENTATION"}),": Enable documentation. Default: ",(0,t.jsx)(n.code,{children:"OFF"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"OPENDAL_DOCS_ONLY"}),": Only build documentation. Default: ",(0,t.jsx)(n.code,{children:"OFF"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"OPENDAL_ENABLE_TESTING"}),": Enable testing. Default: ",(0,t.jsx)(n.code,{children:"OFF"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"OPENDAL_ENABLE_ASYNC"}),": Enable async support. Requires Clang or AppleClang with C++20. Default: ",(0,t.jsx)(n.code,{children:"OFF"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"OPENDAL_FEATURES"}),": Specify OpenDAL services to include, like ",(0,t.jsx)(n.code,{children:'"opendal/services-s3,opendal/services-memory"'}),". Default: ",(0,t.jsx)(n.code,{children:'""'})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"license-and-trademarks",children:"License and Trademarks"}),"\n",(0,t.jsxs)(n.p,{children:["Licensed under the Apache License, Version 2.0: ",(0,t.jsx)(n.a,{href:"http://www.apache.org/licenses/LICENSE-2.0",children:"http://www.apache.org/licenses/LICENSE-2.0"})]}),"\n",(0,t.jsx)(n.p,{children:"Apache OpenDAL, OpenDAL, and Apache are either registered trademarks or trademarks of the Apache Software Foundation."})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}const o={title:"Cpp \ud83d\udea7"},a=void 0,p={},h=[{value:"Example",id:"example",level:2},{value:"Using",id:"using",level:2},{value:"CMake",id:"cmake",level:3},{value:"Others",id:"others",level:3},{value:"Compiling",id:"compiling",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Build",id:"build",level:3},{value:"Dev Setup",id:"dev-setup",level:3},{value:"Test",id:"test",level:3},{value:"Docs",id:"docs",level:3},{value:"CMake Options",id:"cmake-options",level:3},{value:"License and Trademarks",id:"license-and-trademarks",level:2}];function u(e){return(0,t.jsx)(l.A,{basePath:"bindings/cpp/",children:(0,t.jsx)(d,{components:{h1:"h2"}})})}function x(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u()}},9860(e,n,s){s.d(n,{A:()=>r});var i=s(6363),t=s(7259);function r({children:e,owner:n="apache",repo:s="opendal",branch:r="main",basePath:l="",components:c={}}){const d=e=>{const i=e.replace(/^\.\//,"");return`https://github.com/${n}/${s}/blob/${r}/${l}${i}`},o={...c,a:e=>{const{href:n,...s}=e;return n&&n.startsWith("./")?(0,t.jsx)("a",{...s,href:d(n)}):(0,t.jsx)("a",{...e})},p:e=>{const{children:n}=e;if("string"==typeof n){const e=/\[(.*?)\]:\s*(\.\/[^\s]+)/g;if(e.test(n)){const s=n.replace(e,(e,n,s)=>`[${n}]: ${d(s)}`);return(0,t.jsx)("p",{children:s})}}return(0,t.jsx)("p",{...e})}};return"string"==typeof e?(e=>{if("string"!=typeof e)return e;let n=e.replace(/\[(.*?)\]\((\.\/[^)]+)\)/g,(e,n,s)=>`[${n}](${d(s)})`);return n=n.replace(/\[(.*?)\]:\s*(\.\/[^\s]+)/g,(e,n,s)=>`[${n}]: ${d(s)}`),n})(e):i.isValidElement(e)?i.cloneElement(e,{components:{...e.props.components||{},...o}}):e}}}]);