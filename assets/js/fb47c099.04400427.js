"use strict";(self.webpackChunkopendal_website=self.webpackChunkopendal_website||[]).push([[431],{1933:e=>{e.exports=JSON.parse('{"permalink":"/blog/owo-1","editUrl":"https://github.com/apache/opendal/tree/main/website/blog/2023-09-14-owo-1/index.md","source":"@site/blog/2023-09-14-owo-1/index.md","title":"OwO #1: The v0.40 Release","description":"OwO (Outcome, Working, Outlook) is an Apache OpenDAL\u2122 release blog series, where we share the current work status and future plans.","date":"2023-09-15T00:00:00.000Z","tags":[{"inline":true,"label":"owo","permalink":"/blog/tags/owo"}],"readingTime":4.46,"hasTruncateMarker":true,"authors":[{"name":"Xuanwo","url":"https://github.com/Xuanwo","key":"xuanwo","page":null}],"frontMatter":{"title":"OwO #1: The v0.40 Release","date":"2023-09-15T00:00:00.000Z","slug":"owo-1","tags":["owo"],"authors":"xuanwo"},"unlisted":false,"prevItem":{"title":"Apache OpenDAL\u2122 is now Graduated","permalink":"/blog/apache-opendal-graduated"},"nextItem":{"title":"Apache OpenDAL\u2122 Internal: Data Reading","permalink":"/blog/how-opendal-read-data"}}')},3025:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>d});var s=i(1933),t=i(3420),r=i(7251);const a={title:"OwO #1: The v0.40 Release",date:new Date("2023-09-15T00:00:00.000Z"),slug:"owo-1",tags:["owo"],authors:"xuanwo"},o=void 0,l={authorsImageUrls:[void 0]},d=[{value:"Outcome",id:"outcome",level:2},{value:"Core",id:"core",level:3},{value:"Unifying Append and Write Functions",id:"unifying-append-and-write-functions",level:4},{value:"New Lister API",id:"new-lister-api",level:4},{value:"List With Metakey",id:"list-with-metakey",level:4},{value:"Buffered Writer",id:"buffered-writer",level:4},{value:"Others",id:"others",level:4},{value:"Bindings",id:"bindings",level:3},{value:"C++",id:"c",level:4},{value:"Haskell",id:"haskell",level:4},{value:"Java",id:"java",level:4},{value:"New bindings!",id:"new-bindings",level:4},{value:"Applications",id:"applications",level:3},{value:"oay",id:"oay",level:4},{value:"oli",id:"oli",level:4},{value:"Integrations",id:"integrations",level:3},{value:"object_store",id:"object_store",level:4},{value:"Working",id:"working",level:2},{value:"Outlook",id:"outlook",level:2},{value:"Summary",id:"summary",level:2}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"OwO (Outcome, Working, Outlook) is an Apache OpenDAL\u2122 release blog series, where we share the current work status and future plans."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Hello! It's been a while since our last update. We've been hard at work determining the optimal way to implement new features and improvements. We're thrilled to announce that we'll soon be releasing v0.40."}),"\n",(0,t.jsx)(n.p,{children:"This post is structured into three main sections:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Outcome (1st ",(0,t.jsx)(n.code,{children:"O"})," in ",(0,t.jsx)(n.code,{children:"OwO"}),"): Summarizes the key accomplishments in the v0.40 release."]}),"\n",(0,t.jsxs)(n.li,{children:["Working (the ",(0,t.jsx)(n.code,{children:"w"})," in ",(0,t.jsx)(n.code,{children:"OwO"}),"): Provides an update on our current work."]}),"\n",(0,t.jsxs)(n.li,{children:["Outlook (2nd ",(0,t.jsx)(n.code,{children:"O"})," in ",(0,t.jsx)(n.code,{children:"OwO"}),"): Discusses what lies ahead for OpenDAL."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"outcome",children:"Outcome"}),"\n",(0,t.jsx)(n.p,{children:"OpenDAL now comprises four primary components:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Core: The core library written in Rust."}),"\n",(0,t.jsx)(n.li,{children:"Bindings: Language bindings powered by the OpenDAL Rust core."}),"\n",(0,t.jsx)(n.li,{children:"Applications: Applications built using the OpenDAL Rust core."}),"\n",(0,t.jsx)(n.li,{children:"Integrations: Collaborations with other projects."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"core",children:"Core"}),"\n",(0,t.jsx)(n.h4,{id:"unifying-append-and-write-functions",children:"Unifying Append and Write Functions"}),"\n",(0,t.jsxs)(n.p,{children:["OpenDAL has supported ",(0,t.jsx)(n.code,{children:"append"})," operations since ",(0,t.jsx)(n.code,{children:"v0.36"}),". We've found, however, that this led to significant duplication between append and write. As a result, we've streamlined the two functionalities into a single write function. Our users can now:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:'let mut w = op.writer_with("test.txt").append(true).await?;\nw.write(content_a).await?;\nw.write(content_b).await?;\nw.close().await?;\n'})}),"\n",(0,t.jsxs)(n.p,{children:["This way, users can reuse the ",(0,t.jsx)(n.code,{children:"Writer"})," in their own logic without handling ",(0,t.jsx)(n.code,{children:"append"})," separately."]}),"\n",(0,t.jsx)(n.h4,{id:"new-lister-api",children:"New Lister API"}),"\n",(0,t.jsxs)(n.p,{children:["To improve API consistency, we've made some adjustments to our listing functions. We've added ",(0,t.jsx)(n.code,{children:"list"})," and ",(0,t.jsx)(n.code,{children:"list_with"})," methods that perform single operations and renamed the original ",(0,t.jsx)(n.code,{children:"list"})," to ",(0,t.jsx)(n.code,{children:"lister"})," and ",(0,t.jsx)(n.code,{children:"lister_with"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:'// Old API\nlet lister: Lister = op.list("dir").await?;\n\n// New API\nlet entries: Vec<Entry> = op.list("dir").await?;\nlet lister: Lister = op.lister("dir").await?;\n'})}),"\n",(0,t.jsx)(n.p,{children:"This brings uniformity to our API offerings."}),"\n",(0,t.jsx)(n.h4,{id:"list-with-metakey",children:"List With Metakey"}),"\n",(0,t.jsx)(n.p,{children:"To speed up list operations, OpenDAL can now fetch and store metadata during the listing process. This eliminates the need for separate metadata calls:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:'let entries: Vec<Entry> = op\n  .list_with("dir/")\n  .metakey(Metakey::ContentLength | Metakey::ContentType).await?;\n\n// Use the metadata directly!\nlet meta: &Metadata = entries[0].metadata();\n'})}),"\n",(0,t.jsx)(n.p,{children:"This makes metadata retrieval more intuitive."}),"\n",(0,t.jsx)(n.h4,{id:"buffered-writer",children:"Buffered Writer"}),"\n",(0,t.jsx)(n.p,{children:"We've added general buffer support to optimize writing operations."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:'let w = op.writer_with("path/to/file").buffer(8 * 1024 * 1024).await?\n'})}),"\n",(0,t.jsx)(n.h4,{id:"others",children:"Others"}),"\n",(0,t.jsxs)(n.p,{children:["Other improvements in the core library can be found in our ",(0,t.jsx)(n.a,{href:"https://github.com/apache/opendal/blob/main/CHANGELOG.md",children:"CHANGELOG"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"bindings",children:"Bindings"}),"\n",(0,t.jsx)(n.h4,{id:"c",children:"C++"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://github.com/apache/opendal/tree/main/bindings/cpp",children:(0,t.jsx)(n.code,{children:"opendal-cpp"})})," is ready for its first release! Welcome to check it out and give us some feedback."]}),"\n",(0,t.jsx)(n.h4,{id:"haskell",children:"Haskell"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://github.com/apache/opendal/tree/main/bindings/haskell",children:(0,t.jsx)(n.code,{children:"opendal-hs"})})," is ready for its first release! Welcome to check it out and give us some feedback."]}),"\n",(0,t.jsx)(n.h4,{id:"java",children:"Java"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://github.com/apache/opendal/tree/main/bindings/java",children:(0,t.jsx)(n.code,{children:"opendal-java"})})," enabled more available services in this release, allowing user to visit services like ",(0,t.jsx)(n.code,{children:"redis"})," that not enabled by default in rust core. And ",(0,t.jsx)(n.code,{children:"opendal-java"})," enabled blocking layer to allow users visit services like ",(0,t.jsx)(n.code,{children:"s3"})," in blocking way."]}),"\n",(0,t.jsxs)(n.p,{children:["Welcome to integrate ",(0,t.jsx)(n.code,{children:"opendal-java"})," into your project and give us some feedback."]}),"\n",(0,t.jsx)(n.h4,{id:"new-bindings",children:"New bindings!"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/apache/opendal/tree/main/bindings/dotnet",children:(0,t.jsx)(n.code,{children:"opendal-dotnet"})})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/apache/opendal/tree/main/bindings/php",children:(0,t.jsx)(n.code,{children:"opendal-php"})})}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"applications",children:"Applications"}),"\n",(0,t.jsx)(n.h4,{id:"oay",children:"oay"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://github.com/apache/opendal/tree/main/bin/oay",children:"oay"})," is OpenDAL Gateway that allows users to access OpenDAL services via existing protocols like ",(0,t.jsx)(n.code,{children:"s3"})," and ",(0,t.jsx)(n.code,{children:"webdav"}),". It works like a proxy that forwarding requests to OpenDAL services."]}),"\n",(0,t.jsxs)(n.p,{children:["In this release, we implement basic ",(0,t.jsx)(n.code,{children:"webdav"})," support. Users can convert any storage services to a webdav server!"]}),"\n",(0,t.jsx)(n.h4,{id:"oli",children:"oli"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://github.com/apache/opendal/tree/main/bin/oay",children:"oli"})," is OpenDAL CLI that allows users to access storage services via CLI like ",(0,t.jsx)(n.code,{children:"s3cmd"})," and ",(0,t.jsx)(n.code,{children:"gcloud"})," does."]}),"\n",(0,t.jsx)(n.p,{children:"We fixed some experience issues in this release and improved some docs. Welcome to try it out and give us some feedback."}),"\n",(0,t.jsx)(n.h3,{id:"integrations",children:"Integrations"}),"\n",(0,t.jsx)(n.h4,{id:"object_store",children:"object_store"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://github.com/apache/opendal/tree/main/integrations/object_store",children:"object_store"})," instead to implement ",(0,t.jsx)(n.a,{href:"https://github.com/apache/arrow-rs/tree/master/object_store",children:(0,t.jsx)(n.code,{children:"object_store"})}),"'s trait over OpenDAL Operator so that users can use OpenDAL as a backend for ",(0,t.jsx)(n.code,{children:"object_store"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"object_store"})," is mostly functional, but there are some edge use cases that OpenDAL has yet to support."]}),"\n",(0,t.jsxs)(n.p,{children:["So far, this release hasn't seen progress in this area; we are awaiting the resolution of the issue ",(0,t.jsxs)(n.a,{href:"https://github.com/apache/opendal/issues/2762",children:["Allow list paths that do not end with ",(0,t.jsx)(n.code,{children:"/"})]}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"working",children:"Working"}),"\n",(0,t.jsx)(n.p,{children:"We are working on the following things:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"object_store"})," support: Make ",(0,t.jsx)(n.code,{children:"object_store"})," integration works and find a user for it."]}),"\n",(0,t.jsxs)(n.li,{children:["Remove the ",(0,t.jsx)(n.code,{children:"/"})," limitation for path, so we can list a path without ending with ",(0,t.jsx)(n.code,{children:"/"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Expand the ",(0,t.jsx)(n.code,{children:"start-after"})," support to more services (Address ",(0,t.jsx)(n.a,{href:"https://github.com/apache/opendal/issues/2786",children:"#2786"}),")."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"outlook",children:"Outlook"}),"\n",(0,t.jsx)(n.p,{children:"We are exploring some innovative ideas:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/apache/opendal/discussions/2951",children:"OpenDAL REST/gRPC API"}),": A REST/gRPC Server for OpenDAL."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/apache/opendal/discussions/2953",children:"OpenDAL Cache"}),": OpenDAL native cache libs that allowing users to access data more efficiently."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/apache/opendal/discussions/2952",children:"OpenDAL File System"}),": A read-only file system that built upon OpenDAL in rust!"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/apache/opendal/discussions/3042",children:"kio-opendal"}),": A kio plugin powered by OpenDAL that allows users to visit different storage services in ",(0,t.jsx)(n.a,{href:"https://apps.kde.org/dolphin/",children:"KDE Dolphin"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["gvfs-opendal: A gvfs plugin powered by OpenDAL that allows users to visit different storage services in ",(0,t.jsx)(n.a,{href:"https://wiki.gnome.org/Apps/Files",children:"GNOME Files"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Feel free to join in the discussion!"}),"\n",(0,t.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsxs)(n.p,{children:["This marks our first OpenDAL ",(0,t.jsx)(n.code,{children:"OwO"})," post. We welcome your feedback."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},7251:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>o});var s=i(6672);const t={},r=s.createContext(t);function a(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);