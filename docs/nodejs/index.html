<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="IE=edge"><title>Apache OpenDAL™ - v0.49.2</title><meta name="description" content="Documentation for Apache OpenDAL™"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="assets/style.css"><link rel="stylesheet" href="assets/highlight.css"><script defer="" src="assets/main.js"></script><script async="" src="assets/icons.js" id="tsd-icons-script"></script><script async="" src="assets/search.js" id="tsd-search-script"></script><script async="" src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">Apache OpenDAL™ - v0.49.2</a><div id="tsd-toolbar-links"><a href="https://opendal.apache.org/">Homepage</a><a href="https://github.com/apache/opendal/tree/main/bindings/nodejs">GitHub</a></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxlength="100"><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>Apache OpenDAL™ - v0.49.2</h1></div><div class="tsd-panel tsd-typography"><h1 id="apache-opendal™-nodejs-binding" class="tsd-anchor-link">Apache OpenDAL™ Node.js Binding<a href="#apache-opendal™-nodejs-binding" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://www.npmjs.com/package/opendal"><img src="/img/external/6fc9234a805e6983d9cc27a62c8568aa.svg" alt=""></a>
<a href="https://www.npmjs.com/package/opendal"><img src="/img/external/6a13f224a9ca353f3d7201919a549c91.svg" alt="npm"></a>
<a href="https://opendal.apache.org/docs/nodejs/"><img src="/img/external/0331140e6c28f97a21906ae8f1b0117b.svg" alt="Website"></a></p>
<p><img src="/img/external/9a183ec0ae8ab600b6baceb2c70a2367.jpg" alt=""></p>
<blockquote>
<p><strong>Note</strong>: This binding has its own independent version number, which may differ from the Rust core version. When checking for updates or compatibility, always refer to this binding's version rather than the core version.</p>
</blockquote>
<h2 id="useful-links" class="tsd-anchor-link">Useful Links<a href="#useful-links" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="https://opendal.apache.org/docs/nodejs/">Documentation</a></li>
<li><a href="documents/upgrade.html">Upgrade Guide</a></li>
</ul>
<h2 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="shell"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">opendal</span>
</code><button type="button">Copy</button></pre>

<h2 id="docs" class="tsd-anchor-link">Docs<a href="#docs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>To build the docs locally, please run the following commands:</p>
<pre><code class="shell"><span class="hl-3"># Only need to run once unless you want to update the docs theme</span><br><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build:theme</span><br><br><span class="hl-3"># Build the docs</span><br><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">docs</span>
</code><button type="button">Copy</button></pre>

<h2 id="tests" class="tsd-anchor-link">Tests<a href="#tests" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Services behavior tests read necessary configs from env vars or the <code>.env</code> file.</p>
<p>You can copy <a href="/.env.example">.env.example</a> to <code>$(pwd)/.env</code> and change the values on need, or directly set env vars with <code>export KEY=VALUE</code>.</p>
<p>Take <code>fs</code> for example, we need to enable bench on <code>fs</code> on <code>/tmp</code>:</p>
<pre><code class="properties">OPENDAL_TEST=fs
OPENDAL_FS_ROOT=/tmp
</code><button type="button">Copy</button></pre>

<p>You can run service behavior tests of enabled with the following command:</p>
<pre><code class="shell"><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">build</span><span class="hl-1"> &amp;&amp; </span><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">test</span>
</code><button type="button">Copy</button></pre>

<h2 id="usage" class="tsd-anchor-link">Usage<a href="#usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="javascript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Operator</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">"opendal"</span><span class="hl-1">;</span><br><br><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">main</span><span class="hl-1">() {</span><br><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">op</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Operator</span><span class="hl-1">(</span><span class="hl-2">"fs"</span><span class="hl-1">, { </span><span class="hl-5">root:</span><span class="hl-1"> </span><span class="hl-2">"/tmp"</span><span class="hl-1"> });</span><br><span class="hl-1">  </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">op</span><span class="hl-1">.</span><span class="hl-0">write</span><span class="hl-1">(</span><span class="hl-2">"test"</span><span class="hl-1">, </span><span class="hl-2">"Hello, World!"</span><span class="hl-1">);</span><br><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">bs</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">op</span><span class="hl-1">.</span><span class="hl-0">read</span><span class="hl-1">(</span><span class="hl-2">"test"</span><span class="hl-1">);</span><br><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">TextDecoder</span><span class="hl-1">().</span><span class="hl-0">decode</span><span class="hl-1">(</span><span class="hl-5">bs</span><span class="hl-1">));</span><br><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">meta</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">op</span><span class="hl-1">.</span><span class="hl-0">stat</span><span class="hl-1">(</span><span class="hl-2">"test"</span><span class="hl-1">);</span><br><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`contentLength: </span><span class="hl-6">${</span><span class="hl-5">meta</span><span class="hl-8">.</span><span class="hl-5">contentLength</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br><span class="hl-1">}</span><br><br><span class="hl-0">main</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h2 id="layers" class="tsd-anchor-link">Layers<a href="#layers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>OpenDAL provides layers to add additional functionality to operators. You can chain multiple layers together to build powerful data access pipelines.</p>
<h3 id="available-layers" class="tsd-anchor-link">Available Layers<a href="#available-layers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>RetryLayer</strong> - Retry failed operations automatically</li>
<li><strong>ConcurrentLimitLayer</strong> - Limit concurrent requests</li>
<li><strong>TimeoutLayer</strong> - Add timeout for operations</li>
<li><strong>LoggingLayer</strong> - Log all operations</li>
<li><strong>ThrottleLayer</strong> - Limit bandwidth usage</li>
</ul>
<h3 id="timeoutlayer" class="tsd-anchor-link">TimeoutLayer<a href="#timeoutlayer" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Prevents operations from hanging indefinitely:</p>
<pre><code class="javascript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Operator</span><span class="hl-1">, </span><span class="hl-5">TimeoutLayer</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">"opendal"</span><span class="hl-1">;</span><br><br><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">op</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Operator</span><span class="hl-1">(</span><span class="hl-2">"fs"</span><span class="hl-1">, { </span><span class="hl-5">root:</span><span class="hl-1"> </span><span class="hl-2">"/tmp"</span><span class="hl-1"> });</span><br><br><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">timeout</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">TimeoutLayer</span><span class="hl-1">();</span><br><span class="hl-5">timeout</span><span class="hl-1">.</span><span class="hl-5">timeout</span><span class="hl-1"> = </span><span class="hl-9">10000</span><span class="hl-1">; </span><span class="hl-3">// 10 seconds for non-IO operations (ms)</span><br><span class="hl-5">timeout</span><span class="hl-1">.</span><span class="hl-5">ioTimeout</span><span class="hl-1"> = </span><span class="hl-9">3000</span><span class="hl-1">; </span><span class="hl-3">// 3 seconds for IO operations (ms)</span><br><span class="hl-5">op</span><span class="hl-1">.</span><span class="hl-0">layer</span><span class="hl-1">(</span><span class="hl-5">timeout</span><span class="hl-1">.</span><span class="hl-0">build</span><span class="hl-1">());</span>
</code><button type="button">Copy</button></pre>

<p><strong>Default values:</strong> timeout: 60s, ioTimeout: 10s</p>
<h3 id="logginglayer" class="tsd-anchor-link">LoggingLayer<a href="#logginglayer" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Add structured logging for debugging and monitoring:</p>
<pre><code class="javascript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Operator</span><span class="hl-1">, </span><span class="hl-5">LoggingLayer</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">"opendal"</span><span class="hl-1">;</span><br><br><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">op</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Operator</span><span class="hl-1">(</span><span class="hl-2">"fs"</span><span class="hl-1">, { </span><span class="hl-5">root:</span><span class="hl-1"> </span><span class="hl-2">"/tmp"</span><span class="hl-1"> });</span><br><br><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">logging</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">LoggingLayer</span><span class="hl-1">();</span><br><span class="hl-5">op</span><span class="hl-1">.</span><span class="hl-0">layer</span><span class="hl-1">(</span><span class="hl-5">logging</span><span class="hl-1">.</span><span class="hl-0">build</span><span class="hl-1">());</span><br><br><span class="hl-3">// All operations will be logged</span><br><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">op</span><span class="hl-1">.</span><span class="hl-0">write</span><span class="hl-1">(</span><span class="hl-2">"test.txt"</span><span class="hl-1">, </span><span class="hl-2">"Hello World"</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>Enable logging output:</p>
<pre><code class="bash"><span class="hl-3"># Show debug logs</span><br><span class="hl-5">RUST_LOG</span><span class="hl-1">=</span><span class="hl-2">debug</span><span class="hl-1"> </span><span class="hl-0">node</span><span class="hl-1"> </span><span class="hl-2">app.js</span><br><br><span class="hl-3"># Show only OpenDAL logs</span><br><span class="hl-5">RUST_LOG</span><span class="hl-1">=</span><span class="hl-2">opendal::</span><span class="hl-5">services</span><span class="hl-1">=</span><span class="hl-2">debug</span><span class="hl-1"> </span><span class="hl-0">node</span><span class="hl-1"> </span><span class="hl-2">app.js</span>
</code><button type="button">Copy</button></pre>

<h3 id="throttlelayer" class="tsd-anchor-link">ThrottleLayer<a href="#throttlelayer" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Control bandwidth usage with rate limiting:</p>
<pre><code class="javascript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Operator</span><span class="hl-1">, </span><span class="hl-5">ThrottleLayer</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">"opendal"</span><span class="hl-1">;</span><br><br><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">op</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Operator</span><span class="hl-1">(</span><span class="hl-2">"s3"</span><span class="hl-1">, {</span><br><span class="hl-1">  </span><span class="hl-5">bucket:</span><span class="hl-1"> </span><span class="hl-2">"my-bucket"</span><span class="hl-1">,</span><br><span class="hl-1">  </span><span class="hl-5">region:</span><span class="hl-1"> </span><span class="hl-2">"us-east-1"</span><span class="hl-1">,</span><br><span class="hl-1">});</span><br><br><span class="hl-3">// Limit to 10 KiB/s with 10 MiB burst</span><br><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">throttle</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">ThrottleLayer</span><span class="hl-1">(</span><span class="hl-9">10</span><span class="hl-1"> * </span><span class="hl-9">1024</span><span class="hl-1">, </span><span class="hl-9">10</span><span class="hl-1"> * </span><span class="hl-9">1024</span><span class="hl-1"> * </span><span class="hl-9">1024</span><span class="hl-1">);</span><br><span class="hl-5">op</span><span class="hl-1">.</span><span class="hl-0">layer</span><span class="hl-1">(</span><span class="hl-5">throttle</span><span class="hl-1">.</span><span class="hl-0">build</span><span class="hl-1">());</span>
</code><button type="button">Copy</button></pre>

<p><strong>Parameters:</strong></p>
<ul>
<li><code>bandwidth</code>: Maximum bytes per second</li>
<li><code>burst</code>: Maximum burst size (must be larger than any operation size)</li>
</ul>
<h3 id="retrylayer" class="tsd-anchor-link">RetryLayer<a href="#retrylayer" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Automatically retry temporary failed operations:</p>
<pre><code class="javascript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Operator</span><span class="hl-1">, </span><span class="hl-5">RetryLayer</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">"opendal"</span><span class="hl-1">;</span><br><br><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">op</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Operator</span><span class="hl-1">(</span><span class="hl-2">"s3"</span><span class="hl-1">, {</span><br><span class="hl-1">  </span><span class="hl-5">bucket:</span><span class="hl-1"> </span><span class="hl-2">"my-bucket"</span><span class="hl-1">,</span><br><span class="hl-1">  </span><span class="hl-5">region:</span><span class="hl-1"> </span><span class="hl-2">"us-east-1"</span><span class="hl-1">,</span><br><span class="hl-1">});</span><br><br><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">retry</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">RetryLayer</span><span class="hl-1">();</span><br><span class="hl-5">retry</span><span class="hl-1">.</span><span class="hl-5">maxTimes</span><span class="hl-1"> = </span><span class="hl-9">3</span><span class="hl-1">;</span><br><span class="hl-5">retry</span><span class="hl-1">.</span><span class="hl-5">jitter</span><span class="hl-1"> = </span><span class="hl-6">true</span><span class="hl-1">;</span><br><span class="hl-5">op</span><span class="hl-1">.</span><span class="hl-0">layer</span><span class="hl-1">(</span><span class="hl-5">retry</span><span class="hl-1">.</span><span class="hl-0">build</span><span class="hl-1">());</span>
</code><button type="button">Copy</button></pre>

<h3 id="concurrentlimitlayer" class="tsd-anchor-link">ConcurrentLimitLayer<a href="#concurrentlimitlayer" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Limit concurrent requests to storage services:</p>
<pre><code class="javascript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Operator</span><span class="hl-1">, </span><span class="hl-5">ConcurrentLimitLayer</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">"opendal"</span><span class="hl-1">;</span><br><br><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">op</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Operator</span><span class="hl-1">(</span><span class="hl-2">"s3"</span><span class="hl-1">, {</span><br><span class="hl-1">  </span><span class="hl-5">bucket:</span><span class="hl-1"> </span><span class="hl-2">"my-bucket"</span><span class="hl-1">,</span><br><span class="hl-1">  </span><span class="hl-5">region:</span><span class="hl-1"> </span><span class="hl-2">"us-east-1"</span><span class="hl-1">,</span><br><span class="hl-1">});</span><br><br><span class="hl-3">// Allow max 1024 concurrent operations</span><br><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">limit</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">ConcurrentLimitLayer</span><span class="hl-1">(</span><span class="hl-9">1024</span><span class="hl-1">);</span><br><span class="hl-5">limit</span><span class="hl-1">.</span><span class="hl-5">httpPermits</span><span class="hl-1"> = </span><span class="hl-9">512</span><span class="hl-1">; </span><span class="hl-3">// Limit HTTP requests separately</span><br><span class="hl-5">op</span><span class="hl-1">.</span><span class="hl-0">layer</span><span class="hl-1">(</span><span class="hl-5">limit</span><span class="hl-1">.</span><span class="hl-0">build</span><span class="hl-1">());</span>
</code><button type="button">Copy</button></pre>

<h3 id="combining-multiple-layers" class="tsd-anchor-link">Combining Multiple Layers<a href="#combining-multiple-layers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Stack multiple layers for comprehensive control:</p>
<pre><code class="javascript"><span class="hl-4">import</span><span class="hl-1"> {</span><br><span class="hl-1">  </span><span class="hl-5">Operator</span><span class="hl-1">,</span><br><span class="hl-1">  </span><span class="hl-5">LoggingLayer</span><span class="hl-1">,</span><br><span class="hl-1">  </span><span class="hl-5">TimeoutLayer</span><span class="hl-1">,</span><br><span class="hl-1">  </span><span class="hl-5">RetryLayer</span><span class="hl-1">,</span><br><span class="hl-1">  </span><span class="hl-5">ThrottleLayer</span><span class="hl-1">,</span><br><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">"opendal"</span><span class="hl-1">;</span><br><br><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">op</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Operator</span><span class="hl-1">(</span><span class="hl-2">"s3"</span><span class="hl-1">, {</span><br><span class="hl-1">  </span><span class="hl-5">bucket:</span><span class="hl-1"> </span><span class="hl-2">"my-bucket"</span><span class="hl-1">,</span><br><span class="hl-1">  </span><span class="hl-5">region:</span><span class="hl-1"> </span><span class="hl-2">"us-east-1"</span><span class="hl-1">,</span><br><span class="hl-1">});</span><br><br><span class="hl-3">// Layer 1: Logging for observability</span><br><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">logging</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">LoggingLayer</span><span class="hl-1">();</span><br><span class="hl-5">op</span><span class="hl-1">.</span><span class="hl-0">layer</span><span class="hl-1">(</span><span class="hl-5">logging</span><span class="hl-1">.</span><span class="hl-0">build</span><span class="hl-1">());</span><br><br><span class="hl-3">// Layer 2: Timeout protection</span><br><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">timeout</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">TimeoutLayer</span><span class="hl-1">();</span><br><span class="hl-5">timeout</span><span class="hl-1">.</span><span class="hl-5">timeout</span><span class="hl-1"> = </span><span class="hl-9">30000</span><span class="hl-1">;</span><br><span class="hl-5">timeout</span><span class="hl-1">.</span><span class="hl-5">ioTimeout</span><span class="hl-1"> = </span><span class="hl-9">10000</span><span class="hl-1">;</span><br><span class="hl-5">op</span><span class="hl-1">.</span><span class="hl-0">layer</span><span class="hl-1">(</span><span class="hl-5">timeout</span><span class="hl-1">.</span><span class="hl-0">build</span><span class="hl-1">());</span><br><br><span class="hl-3">// Layer 3: Retry on failures</span><br><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">retry</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">RetryLayer</span><span class="hl-1">();</span><br><span class="hl-5">retry</span><span class="hl-1">.</span><span class="hl-5">maxTimes</span><span class="hl-1"> = </span><span class="hl-9">3</span><span class="hl-1">;</span><br><span class="hl-5">retry</span><span class="hl-1">.</span><span class="hl-5">jitter</span><span class="hl-1"> = </span><span class="hl-6">true</span><span class="hl-1">;</span><br><span class="hl-5">op</span><span class="hl-1">.</span><span class="hl-0">layer</span><span class="hl-1">(</span><span class="hl-5">retry</span><span class="hl-1">.</span><span class="hl-0">build</span><span class="hl-1">());</span><br><br><span class="hl-3">// Layer 4: Bandwidth throttling</span><br><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">throttle</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">ThrottleLayer</span><span class="hl-1">(</span><span class="hl-9">100</span><span class="hl-1"> * </span><span class="hl-9">1024</span><span class="hl-1">, </span><span class="hl-9">10</span><span class="hl-1"> * </span><span class="hl-9">1024</span><span class="hl-1"> * </span><span class="hl-9">1024</span><span class="hl-1">);</span><br><span class="hl-5">op</span><span class="hl-1">.</span><span class="hl-0">layer</span><span class="hl-1">(</span><span class="hl-5">throttle</span><span class="hl-1">.</span><span class="hl-0">build</span><span class="hl-1">());</span><br><br><span class="hl-3">// Now the operator has full production-ready protection</span><br><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">op</span><span class="hl-1">.</span><span class="hl-0">write</span><span class="hl-1">(</span><span class="hl-2">"data.json"</span><span class="hl-1">, </span><span class="hl-7">JSON</span><span class="hl-1">.</span><span class="hl-0">stringify</span><span class="hl-1">(</span><span class="hl-5">data</span><span class="hl-1">));</span>
</code><button type="button">Copy</button></pre>

<h2 id="usage-with-nextjs" class="tsd-anchor-link">Usage with Next.js<a href="#usage-with-nextjs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Config automatically be bundled by <a href="https://nextjs.org/docs/app/api-reference/config/next-config-js/serverExternalPackages">Next.js</a>.</p>
<pre><code class="javascript"><span class="hl-3">/** </span><span class="hl-6">@type</span><span class="hl-3"> </span><span class="hl-10">{import('next').NextConfig}</span><span class="hl-3"> */</span><br><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">nextConfig</span><span class="hl-1"> = {</span><br><span class="hl-1">  </span><span class="hl-5">serverExternalPackages:</span><span class="hl-1"> [</span><span class="hl-2">"opendal"</span><span class="hl-1">],</span><br><span class="hl-1">};</span><br><br><span class="hl-10">module</span><span class="hl-1">.</span><span class="hl-10">exports</span><span class="hl-1"> = </span><span class="hl-5">nextConfig</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<h2 id="contributing" class="tsd-anchor-link">Contributing<a href="#contributing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>Start with <a href="documents/CONTRIBUTING.html">Contributing Guide</a>.</li>
<li>Submit <a href="https://github.com/apache/opendal/issues/new">Issues</a> for bug report or feature requests.</li>
<li>Asking questions in the <a href="https://github.com/apache/opendal/discussions/new?category=q-a">Discussions</a>.
<ul>
<li>Talk to community at <a href="https://opendal.apache.org/discord">Discord</a>.</li>
</ul>
</li>
</ul>
<h2 id="license-and-trademarks" class="tsd-anchor-link">License and Trademarks<a href="#license-and-trademarks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Licensed under the Apache License, Version 2.0: <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>
<p>Apache OpenDAL, OpenDAL, and Apache are either registered trademarks or trademarks of the Apache Software Foundation.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked=""><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open="" class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#apache-opendal™-nodejs-binding"><span>Apache <wbr>Open<wbr>DAL™ <wbr>Node.js <wbr>Binding</span></a><ul><li><a href="#useful-links"><span>Useful <wbr>Links</span></a></li><li><a href="#installation"><span>Installation</span></a></li><li><a href="#docs"><span>Docs</span></a></li><li><a href="#tests"><span>Tests</span></a></li><li><a href="#usage"><span>Usage</span></a></li><li><a href="#layers"><span>Layers</span></a></li><li><ul><li><a href="#available-layers"><span>Available <wbr>Layers</span></a></li><li><a href="#timeoutlayer"><span>Timeout<wbr>Layer</span></a></li><li><a href="#logginglayer"><span>Logging<wbr>Layer</span></a></li><li><a href="#throttlelayer"><span>Throttle<wbr>Layer</span></a></li><li><a href="#retrylayer"><span>Retry<wbr>Layer</span></a></li><li><a href="#concurrentlimitlayer"><span>Concurrent<wbr>Limit<wbr>Layer</span></a></li><li><a href="#combining-multiple-layers"><span>Combining <wbr>Multiple <wbr>Layers</span></a></li></ul></li><li><a href="#usage-with-nextjs"><span>Usage with <wbr>Next.js</span></a></li><li><a href="#contributing"><span>Contributing</span></a></li><li><a href="#license-and-trademarks"><span>License and <wbr>Trademarks</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://opendal.apache.org/" class="tsd-nav-link">Homepage</a><a href="https://github.com/apache/opendal/tree/main/bindings/nodejs" class="tsd-nav-link">GitHub</a></nav><nav class="tsd-navigation"><a href="modules.html">Apache OpenDAL™ - v0.49.2</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p>Copyright © 2022-2026, The Apache Software Foundation. Apache OpenDAL, OpenDAL, and Apache are either registered trademarks or trademarks of the Apache Software Foundation.</p></footer><div class="overlay"></div>
</body></html>